# 通讯类需求说明
## 一、总体说明
- 通信方式限定
	- socket的tcp或udp通信
	- 通讯层负责将信息从bytes解析为string，不进行进一步解析
	- 数据处理功能，属于内部功能，根据通信方式不通而异
- 第一次的通信是客户端发起的
	- 客户端需要知道服务器的IP地址和端口
	- 如果采用tcp通信，需要建立连接
- 客户端可以主动向服务器发送消息
- 服务器也可以主动向客户端发送消息
	- 服务器需要知道客户端的IP地址和端口
	- 如果采用tcp通信，需要建立连接
- 服务器需要知道客户端的上线和下线事件
	- 如果采用udp通信，需要发送特定的消息通知
	- 如果采用tcp通信，则不需要
## 二、服务器端
**需要提供的功能**
- 客户端上线事件，用于通知上层调用者，做进一步处理，触发时机：
	- tcp，新连接建立
	- udp，接收到握手等消息
- 客户端下线事件，用于通知上层调用者，做进一步处理，触发时机：
	- tcp，连接断开
	- udp
		- 接收到挥手消息
		- 超时未收到客户端回复
- 接收到消息事件， 接收到用户信息，通知上层调用者，做进一步处理
- 发送信息到所有客户端功能
	- 用于接收到信息后更新客户端信息列表
## 三、客户端
**需要提供的功能**
- 连接到服务器
- 接收到服务器数据的数据